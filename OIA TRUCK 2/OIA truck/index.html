<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0"
    >
    <title>Ê¥æËΩ¶ÂçïÁÆ°ÁêÜÁ≥ªÁªü</title>
    <link
        rel="stylesheet"
        href="style/common.css"
    >
    <link
        rel="stylesheet"
        href="style/card-styles.css"
    >

    <link
        rel="preload"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        as="style"
        onload="this.onload=null;this.rel='stylesheet'"
     >
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"></noscript>
    <link rel="stylesheet" href="style/pdf-styles.css">

</head>

<body>
    <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
    <template id="GHOST_TEMPLATE">
        <nav class="topbar">
            <div class="logo">
                <img
                    id="company-logo"
                    alt="ÂÖ¨Âè∏logo"
                />
            </div>
            <div class="nav-links">
                <a href="#" class="active">Ë¥ßËøêÁÆ°ÁêÜ</a>
                <a href="#">DIYË∑ØÁ∫ø</a>
                <a href="#">Á∫øË∑ØÁÆ°ÁêÜ</a>
                <a href="#">ÂÆ¢Êà∑ÂàóË°®</a>
            </div>
            <div class="search-box">
                <input
                    type="text"
                    placeholder="ÊêúÁ¥¢..."
                />
                <i class="fas fa-search"></i>
            </div>
        </nav>
        <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
        <div class="container">
            <!-- ‰æßËæπÊ†èÂØºËà™ -->
            <nav class="sidebar">
                <div class="sidebar-section">
                    <h3>Ë¥ßËøêÁÆ°ÁêÜ</h3>
                    <a
                        href="#"
                        class="nav-item active"
                    ><i class="fas fa-tachometer-alt"></i>ÊÄªËßà</a>
                    <a
                        href="#"
                        class="nav-item"
                    ><i class="fas fa-list"></i>ËÆ¢ÂçïÁÆ°ÁêÜ</a>
                </div>
                <div class="sidebar-section">
                    <h3>Ê¥æËΩ¶ÁÆ°ÁêÜ</h3>
                    <a
                        href="#"
                        class="nav-item"
                    ><i class="fas fa-plus"></i>ÂàõÂª∫Ê¥æËΩ¶Âçï</a>
                    <a
                        href="#"
                        class="nav-item"
                    ><i class="fas fa-history"></i>ÂéÜÂè≤Ê¥æËΩ¶Âçï</a>
                </div>
            </nav>
            <!-- ÊÄªËßàÈ°µÈù¢ -->
            <div
                id="overview-dashboard"
                class="dashboard-content"
            >
                <div class="section-card-header">
                    <h2>Á≥ªÁªüÊÄªËßà</h2>
                </div>
                <div class="overview-cards">
                    <div class="overview-card" onclick="showOverviewOrdersByType('inTransit')">
                        <div class="card-icon"><i class="fas fa-truck"></i></div>
                        <div class="card-content">
                            <h3>ËøêËæì‰∏≠ËÆ¢Âçï</h3>
                            <p class="card-value" id="inTransitOrdersCount">0</p>
                        </div>
                    </div>
                    <div class="overview-card" onclick="showOverviewOrdersByType('completed')">
                        <div class="card-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="card-content">
                            <h3>Â∑≤ÂÆåÊàêËÆ¢Âçï</h3>
                            <p class="card-value" id="completedOrdersCount">0</p>
                        </div>
                    </div>
                    <div class="overview-card" onclick="showOverviewOrdersByType('monthly')">
                        <div class="card-icon"><i class="fas fa-calendar-alt"></i></div>
                        <div class="card-content">
                            <h3>Êú¨ÊúàËÆ¢Âçï</h3>
                            <p class="card-value" id="monthlyOrdersCount">0</p>
                        </div>
                    </div>
                    <div class="overview-card" onclick="showOverviewOrdersByType('prepareDispatch')" style="background: linear-gradient(135deg, #ff9800, #f57c00); color: white;">
                        <div class="card-icon"><i class="fas fa-clock"></i></div>
                        <div class="card-content">
                            <h3>ÂáÜÂ§áÊ¥æËΩ¶</h3>
                            <p class="card-value" id="prepareDispatchCount">0</p>
                        </div>
                    </div>

                </div>


                <!-- ÊÄªËßàÈ°µÈù¢ËÆ¢ÂçïË°®Ê†ºÂå∫Âüü -->
                <div id="overview-orders-section" class="overview-orders-section" style="display: none;">
                    <div class="section-card-header">
                        <h3 id="overview-orders-title">ËÆ¢ÂçïÂàóË°®</h3>
                        <button class="btn btn-sm btn-outline" onclick="hideOverviewOrders()">
                            <i class="fas fa-times"></i> ÂÖ≥Èó≠
                        </button>
                    </div>
                    <div class="table-container">
                        <table class="order-table">
                            <thead>
                                <tr>
                                    <th width="40px">
                                        <input type="checkbox" id="selectAllOverviewOrders" onchange="toggleSelectAll('overviewOrder')">
                                    </th>
                                    <th>ËÆ¢ÂçïÂè∑</th>
                                    <th>Ë∑ØÁ∫ø</th>
                                    <th class="pickup-group">ÊèêË¥ßÂ∑•ÂéÇ</th>
                                    <th class="delivery-group">ÈÄÅË¥ßÂ∑•ÂéÇ</th>
                                    <th class="time-group">ÊèêË¥ßÊó∂Èó¥</th>
                                    <th class="time-group">ÈÄÅË¥ßÊó∂Èó¥</th>
                                    <th>Êìç‰Ωú</th>
                                </tr>
                            </thead>
                            <tbody id="overviewOrderTable"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ËÆ¢ÂçïÁÆ°ÁêÜ -->
            <div
                id="order-management"
                class="dashboard-content"
                style="display: none;"
            >
                <div class="section-card-header">
                    <h2>ËÆ¢ÂçïÁÆ°ÁêÜ</h2>
                    <div class="batch-operations">
                        <button class="btn btn-sm btn-outline" id="toggleSelectAllOrdersBtn">
                            <i class="fas fa-check-square"></i> ÂÖ®ÈÄâ/ÂèñÊ∂à
                        </button>
                        <button class="btn btn-sm btn-danger" id="batchDeleteOrdersBtn" disabled>
                            <i class="fas fa-trash"></i> ÊâπÈáèÂà†Èô§
                        </button>
                        <button class="btn btn-sm btn-success" id="batchPrintOrdersBtn" disabled>
                            <i class="fas fa-print"></i> ÊâπÈáèÊâìÂç∞
                        </button>
                        <button class="btn btn-sm btn-info" id="exportOrdersBtn" disabled>
                            <i class="fas fa-download"></i> ÂØºÂá∫ÈÄâ‰∏≠
                        </button>
                    </div>
                </div>
                <div class="table-container">
                    <table class="order-table">
                        <thead>
                            <tr>
                                <th width="40px">
                                    <input type="checkbox" id="selectAllOrders">
                                </th>
                                <th>ËÆ¢ÂçïÂè∑</th>
                                <th>Ë∑ØÁ∫ø</th>
                                <th class="pickup-group">ÊèêË¥ßÂ∑•ÂéÇ</th>
                                <th class="delivery-group">ÈÄÅË¥ßÂ∑•ÂéÇ</th>
                                <th class="time-group">ÊèêË¥ßÊó∂Èó¥</th>
                                <th class="time-group">ÈÄÅË¥ßÊó∂Èó¥</th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody id="orderTable"></tbody>
                    </table>
                </div>
            </div>
            <!-- Ê¥æËΩ¶ÂçïË°®Âçï -->
            <div
                id="dispatch-form"
                class="dashboard-content"
                style="display: none;"
            >
                <div class="section-card-header">
                    <h2><i class="fas fa-truck"></i> ÂàõÂª∫Ê¥æËΩ¶Âçï</h2>
                </div>
                <div class="form-container enhanced-form">
                    <!-- Âü∫Êú¨‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-info-circle"></i> Âü∫Êú¨‰ø°ÊÅØ</h3>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="po"><i class="fas fa-file-alt"></i> Shipment</label>
                                    <input
                                        type="text"
                                        id="po"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•Shipment"
                                    >
                                </div>
                                <div class="form-col">
                                    <label for="cw1no"><i class="fas fa-barcode"></i> PO</label>
                                    <input
                                        type="text"
                                        id="cw1no"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•PO"
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ËΩ¶ÈòüÂíåË∑ØÁ∫ø‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-users"></i> ËΩ¶Èòü‰∏éË∑ØÁ∫ø</h3>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="transportTeam"><i class="fas fa-truck"></i> TOËΩ¶Èòü <span style="color: red;">*</span></label>
                                    <div class="input-group">
                                        <select id="transportTeam" class="form-control" required>
                                            <option value="">ËØ∑ÈÄâÊã©TOËΩ¶Èòü</option>
                                            <option value="ËΩ¶ÈòüA">ËΩ¶ÈòüA</option>
                                            <option value="ËΩ¶ÈòüB">ËΩ¶ÈòüB</option>
                                            <option value="ËΩ¶ÈòüC">ËΩ¶ÈòüC</option>
                                        </select>
                                        <div class="input-group-append">
                                            <button type="button" class="btn btn-sm btn-outline" onclick="openTransportTeamModal()" title="Êñ∞Â¢ûËΩ¶Èòü">
                                                <i class="fas fa-plus"></i>
                                            </button>
                                            <button type="button" class="btn btn-sm btn-outline" onclick="openTeamManageModal()" title="ÁÆ°ÁêÜËΩ¶Èòü">
                                                <i class="fas fa-cog"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-col">
                                    <label for="vehicleType"><i class="fas fa-car"></i> ËΩ¶Âûã <span style="color: red;">*</span></label>
                                    <input
                                        type="text"
                                        id="vehicleType"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•ËΩ¶Âûã"
                                        required
                                    >
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="route"><i class="fas fa-route"></i> ÈÄâÊã©Ë∑ØÁ∫ø</label>
                                    <div class="route-selection-container">
                                        <!-- ‰∏ãÊãâÈÄâÊã©Ê°Ü -->
                                        <select
                                            id="route"
                                            class="form-control"
                                            onchange="fillRouteInfo()"
                                        >
                                            <option value="">ËØ∑ÈÄâÊã©Ë∑ØÁ∫ø</option>
                                        </select>

                                        <!-- ÊêúÁ¥¢ÂäüËÉΩÂàáÊç¢ÊåâÈíÆ -->
                                        <button
                                            type="button"
                                            id="toggleSearchBtn"
                                            class="btn btn-sm btn-outline"
                                            onclick="toggleRouteSearchMode()"
                                            title="ÂàáÊç¢Âà∞ÊêúÁ¥¢Ê®°Âºè"
                                        >
                                            <i class="fas fa-search"></i>
                                        </button>

                                        <!-- ÊêúÁ¥¢ÂÆπÂô®ÔºàÈªòËÆ§ÈöêËóèÔºâ -->
                                        <div class="route-search-container" id="routeSearchContainer" style="display: none;">
                                            <input
                                                type="text"
                                                id="routeSearch"
                                                class="form-control"
                                                placeholder="ÊêúÁ¥¢Ë∑ØÁ∫øÂêçÁß∞..."
                                                oninput="searchAndDisplayRoutes()"
                                                onfocus="showRouteDropdown()"
                                                onblur="hideRouteDropdown()"
                                            >
                                            <div id="routeDropdown" class="route-dropdown" style="display: none;">
                                                <div class="route-dropdown-content">
                                                    <!-- Ë∑ØÁ∫øÈÄâÈ°πÂ∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                                                </div>
                                            </div>
                                        </div>

                                        <input type="hidden" id="selectedRouteId" value="">
                                    </div>

                                    <div class="button-group">
                                        <button
                                            type="button"
                                            class="btn btn-sm btn-accent"
                                            onclick="openRouteManagement()"
                                        >
                                            <i class="fas fa-cog"></i> ÁÆ°ÁêÜË∑ØÁ∫ø </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ÊèêË¥ß‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-arrow-up"></i> ÊèêË¥ß‰ø°ÊÅØ</h3>
                            <div class="button-group">
                                <button type="button" class="btn btn-sm btn-outline" onclick="showCustomerListModal('pickup')">
                                    <i class="fas fa-users"></i> ‰ªéÂÆ¢Êà∑ÂàóË°®ÈÄâÊã©
                                </button>
                                <button type="button" class="btn btn-sm btn-accent add-pickup-point" onclick="addPickupPoint()">
                                    <i class="fas fa-plus"></i> Â¢ûÂä†ÊèêË¥ßÁÇπ
                                </button>
                            </div>
                        </div>
                        <div class="form-group" id="pickupPointsContainer">
                            <div class="pickup-point-container">
                                <div class="point-remove" onclick="removePickupPoint(this)">√ó</div>
                                <div class="form-row pickup-point" data-point-index="0">
                                    <div class="form-col">
                                        <label for="pickupFactory"><i class="fas fa-industry"></i> ÂêçÁß∞</label>
                                        <input
                                            type="text"
                                            id="pickupFactory"
                                            class="form-control"
                                            placeholder="ËØ∑ËæìÂÖ•ÊèêË¥ßÂ∑•ÂéÇÂêçÁß∞"
                                        >
                                    </div>
                                    <div class="form-col">
                                        <label for="pickupContact"><i class="fas fa-user"></i> ËÅîÁ≥ª‰∫∫</label>
                                        <input
                                            type="text"
                                            id="pickupContact"
                                            class="form-control"
                                            placeholder="ËØ∑ËæìÂÖ•ËÅîÁ≥ª‰∫∫ÂßìÂêç"
                                        >
                                    </div>
                                    <div class="form-col">
                                        <label for="pickupDate"><i class="fas fa-calendar"></i> ÊèêË¥ßÊó•Êúü</label>
                                        <input type="date" id="pickupDate" class="form-control" onchange="validateDateRange()">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col full-width">
                                        <label for="pickupAddress"><i class="fas fa-map-marker-alt"></i> ÊèêË¥ßÂú∞ÂùÄ</label>
                                        <input
                                            type="text"
                                            id="pickupAddress"
                                            class="form-control"
                                            placeholder="ËØ∑ËæìÂÖ•ÊèêË¥ßÂú∞ÂùÄ"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Áâ©ÊµÅÂõ≠‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-warehouse"></i> Áâ©ÊµÅÂõ≠‰ø°ÊÅØ</h3>
                            <button type="button" class="btn btn-sm btn-outline" onclick="showCustomerListModal('logistics')">
                                <i class="fas fa-users"></i> ‰ªéÂÆ¢Êà∑ÂàóË°®ÈÄâÊã©
                            </button>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="parkName"><i class="fas fa-building"></i> ÂêçÁß∞</label>
                                    <input
                                        type="text"
                                        id="parkName"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•Áâ©ÊµÅÂõ≠ÂêçÁß∞"
                                    >
                                </div>
                                <div class="form-col">
                                    <label for="parkContact"><i class="fas fa-user"></i> ËÅîÁ≥ª‰∫∫</label>
                                    <input
                                        type="text"
                                        id="parkContact"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•ËÅîÁ≥ª‰∫∫ÂßìÂêç"
                                    >
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="parkAddress"><i class="fas fa-map-marker-alt"></i> Âú∞ÂùÄ</label>
                                    <input
                                        type="text"
                                        id="parkAddress"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•Áâ©ÊµÅÂõ≠ËØ¶ÁªÜÂú∞ÂùÄ"
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- ÈÄÅË¥ß‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-arrow-down"></i> ÈÄÅË¥ß‰ø°ÊÅØ</h3>
                            <div class="button-group">
                                <button type="button" class="btn btn-sm btn-outline" onclick="showCustomerListModal('delivery')">
                                    <i class="fas fa-users"></i> ‰ªéÂÆ¢Êà∑ÂàóË°®ÈÄâÊã©
                                </button>
                                <button type="button" class="btn btn-sm btn-accent add-delivery-point" onclick="addDeliveryPoint()">
                                    <i class="fas fa-plus"></i> Â¢ûÂä†ÈÄÅË¥ßÁÇπ
                                </button>
                            </div>
                        </div>
                        <div class="form-group" id="deliveryPointsContainer">
                            <div class="delivery-point-container">
                                <div class="point-remove" onclick="removeDeliveryPoint(this)">√ó</div>
                                <div class="form-row delivery-point" data-point-index="0">
                                    <div class="form-col">
                                        <label for="deliveryFactory"><i class="fas fa-industry"></i> ÂêçÁß∞</label>
                                        <input
                                            type="text"
                                            id="deliveryFactory"
                                            class="form-control"
                                            placeholder="ËØ∑ËæìÂÖ•ÈÄÅË¥ßÂ∑•ÂéÇÂêçÁß∞"
                                        >
                                    </div>
                                    <div class="form-col">
                                        <label for="deliveryContact"><i class="fas fa-user"></i> ËÅîÁ≥ª‰∫∫</label>
                                        <input
                                            type="text"
                                            id="deliveryContact"
                                            class="form-control"
                                            placeholder="ËØ∑ËæìÂÖ•ËÅîÁ≥ª‰∫∫ÂßìÂêç"
                                        >
                                    </div>
                                    <div class="form-col">
                                        <label for="deliveryDate"><i class="fas fa-calendar"></i> ÈÄÅË¥ßÊó•Êúü</label>
                                        <input type="date" id="deliveryDate" class="form-control" onchange="validateDateRange()">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-col full-width">
                                        <label for="deliveryAddress"><i class="fas fa-map-marker-alt"></i> ÈÄÅË¥ßÂú∞ÂùÄ</label>
                                        <input
                                            type="text"
                                            id="deliveryAddress"
                                            class="form-control"
                                            placeholder="ËØ∑ËæìÂÖ•ÈÄÅË¥ßÂú∞ÂùÄ"
                                        >
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Ë¥ßÁâ©‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-boxes"></i> Ë¥ßÁâ©‰ø°ÊÅØ</h3>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="cargoType"><i class="fas fa-tag"></i> Ë¥ßÁâ©Á±ªÂûã</label>
                                    <input
                                        type="text"
                                        id="cargoType"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•Ë¥ßÁâ©Á±ªÂûã"
                                    >
                                </div>
                                <div class="form-col">
                                    <label for="cargoWeight"><i class="fas fa-weight-hanging"></i> ÈáçÈáè (KG)</label>
                                    <input
                                        type="number"
                                        id="cargoWeight"
                                        class="form-control"
                                        step="0.01"
                                        placeholder="0.00"
                                    >
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="cargoVolume"><i class="fas fa-cube"></i> ‰ΩìÁßØ (m¬≥)</label>
                                    <input
                                        type="number"
                                        id="cargoVolume"
                                        class="form-control"
                                        step="0.01"
                                        placeholder="0.00"
                                    >
                                </div>
                                <div class="form-col">
                                    <label for="cargoPieces"><i class="fas fa-layer-group"></i> ‰ª∂Êï∞</label>
                                    <input
                                        type="text"
                                        id="cargoPieces"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•‰ª∂Êï∞"
                                    >
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col full-width">
                                    <label for="cargoNotes"><i class="fas fa-sticky-note"></i> Â§áÊ≥®</label>
                                    <textarea
                                        id="cargoNotes"
                                        class="form-control"
                                        rows="3"
                                        placeholder="ËØ∑ËæìÂÖ•Ë¥ßÁâ©Áõ∏ÂÖ≥Â§áÊ≥®‰ø°ÊÅØ..."
                                    ></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Êìç‰ΩúÊåâÈíÆ -->
                    <div class="form-actions enhanced-actions">
                        <button
                            type="button"
                            class="btn btn-large btn-accent"
                            onclick="generateDispatchSheet()"
                        >
                            <i class="fas fa-file-export"></i> ÁîüÊàêÂπ∂‰øùÂ≠òÊ¥æËΩ¶Âçï </button>

                        <button
                            type="button"
                            class="btn btn-large btn-secondary"
                            onclick="clearDispatchForm()"
                        >
                            <i class="fas fa-eraser"></i> Ê∏ÖÁ©∫Ë°®Âçï </button>
                    </div>
                </div>
            </div>
            <!-- DIYË∑ØÁ∫øÈ°µÈù¢ -->
            <div
                id="diy-route"
                class="dashboard-content"
                style="display: none;"
            >
                <div class="section-card-header">
                    <h2><i class="fas fa-route"></i> DIYË∑ØÁ∫øËßÑÂàí</h2>
                </div>
                <div class="form-container enhanced-form">
                    <!-- Ë∑ØÁ∫øÂü∫Êú¨‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-info-circle"></i> Ë∑ØÁ∫øÂü∫Êú¨‰ø°ÊÅØ</h3>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="routeName"><i class="fas fa-tag"></i> Ë∑ØÁ∫øÂêçÁß∞ <span class="required">*</span></label>
                                    <input
                                        type="text"
                                        id="routeName"
                                        class="form-control"
                                        required
                                        placeholder="ËØ∑ËæìÂÖ•Ë∑ØÁ∫øÂêçÁß∞"
                                    >
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Ë∑ØÁ∫øËÆæÁΩÆÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-route"></i> Ë∑ØÁ∫ø</h3>
                            <div class="waypoint-actions">
                                <button type="button" class="btn btn-sm btn-accent" onclick="addWaypoint()">
                                    <i class="fas fa-plus"></i> Ê∑ªÂä†ÈÄîÁªèÁÇπ
                                </button>
                                <button type="button" class="btn btn-sm btn-outline" onclick="showCustomerListModal('waypoint')">
                                    <i class="fas fa-users"></i> ‰ªéÂÆ¢Êà∑ÂàóË°®Ê∑ªÂä†
                                </button>
                            </div>
                        </div>
                        <div id="waypointsContainer" class="waypoints-container">
                            <!-- Âä®ÊÄÅÊ∑ªÂä†ÁöÑÈÄîÁªèÁÇπÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                        </div>
                    </div>

                    <!-- Ë¥ßÁâ©‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-boxes"></i> Ë¥ßÁâ©‰ø°ÊÅØ</h3>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="routeCargoType"><i class="fas fa-tag"></i> Ë¥ßÁâ©Á±ªÂûã</label>
                                    <input
                                        type="text"
                                        id="routeCargoType"
                                        class="form-control"
                                        placeholder="ËØ∑ËæìÂÖ•Ë¥ßÁâ©Á±ªÂûã"
                                    >
                                </div>
                                <div class="form-col">
                                    <label for="routeCargoWeight"><i class="fas fa-weight-hanging"></i> ÈáçÈáè (Âê®)</label>
                                    <input
                                        type="number"
                                        id="routeCargoWeight"
                                        class="form-control"
                                        step="0.01"
                                        placeholder="0.00"
                                    >
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-col">
                                    <label for="routeCargoVolume"><i class="fas fa-cube"></i> ‰ΩìÁßØ (m¬≥)</label>
                                    <input
                                        type="number"
                                        id="routeCargoVolume"
                                        class="form-control"
                                        step="0.01"
                                        placeholder="0.00"
                                    >
                                </div>
                                <div class="form-col">
                                    <label for="routeCargoPieces"><i class="fas fa-layer-group"></i> ‰ª∂Êï∞</label>
                                    <input
                                        type="number"
                                        id="routeCargoPieces"
                                        class="form-control"
                                        placeholder="0"
                                    >
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Â§áÊ≥®‰ø°ÊÅØÂç°Áâá -->
                    <div class="form-card">
                        <div class="card-header">
                            <h3><i class="fas fa-sticky-note"></i> Ë∑ØÁ∫øÂ§áÊ≥®</h3>
                        </div>
                        <div class="form-group">
                            <div class="form-row">
                                <div class="form-col full-width">
                                    <label for="routeNotes"><i class="fas fa-comment"></i> Â§áÊ≥®‰ø°ÊÅØ</label>
                                    <textarea
                                        id="routeNotes"
                                        class="form-control"
                                        rows="4"
                                        placeholder="ËØ∑ËæìÂÖ•Ë∑ØÁ∫øÁõ∏ÂÖ≥Â§áÊ≥®‰ø°ÊÅØÔºåÂ¶ÇÁâπÊÆäË¶ÅÊ±Ç„ÄÅÊ≥®ÊÑè‰∫ãÈ°πÁ≠â..."
                                    ></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Êìç‰ΩúÊåâÈíÆ -->
                    <div class="form-actions enhanced-actions">
                        <button
                            type="button"
                            class="btn btn-large btn-accent"
                            onclick="saveRoute()"
                        >
                            <i class="fas fa-save"></i> ‰øùÂ≠òË∑ØÁ∫ø
                        </button>
                        <button
                            type="button"
                            class="btn btn-large btn-outline"
                            onclick="previewRoute()"
                        >
                            <i class="fas fa-eye"></i> È¢ÑËßàË∑ØÁ∫ø
                        </button>
                        <button
                            type="button"
                            class="btn btn-large btn-secondary"
                            onclick="clearRouteForm()"
                        >
                            <i class="fas fa-eraser"></i> Ê∏ÖÁ©∫Ë°®Âçï
                        </button>
                    </div>
                </div>
            </div>
            <!-- ÂÆ¢Êà∑ÂàóË°® -->
            <div
                id="customer-list"
                class="dashboard-content"
                style="display: none;"
            >
                <!-- È°µÈù¢Â§¥ÈÉ® -->
                <div class="page-header">
                    <div class="page-title-section">
                        <h2><i class="fas fa-users"></i> ÂÆ¢Êà∑ÁÆ°ÁêÜ</h2>
                        <p class="page-subtitle">ÁÆ°ÁêÜÂíåÁª¥Êä§ÂÆ¢Êà∑‰ø°ÊÅØÔºåÊîØÊåÅÂø´ÈÄüÊêúÁ¥¢ÂíåÊâπÈáèÊìç‰Ωú</p>
                    </div>
                    <div class="page-actions">
                        <button class="btn btn-sm btn-outline" onclick="toggleCustomerSelectAll()">
                            <i class="fas fa-check-square"></i> ÂÖ®ÈÄâ/ÂèñÊ∂à
                        </button>
                        <button class="btn btn-sm btn-danger customer-batch-btn" onclick="batchDeleteCustomers()" id="batchDeleteCustomersBtn" disabled>
                            <i class="fas fa-trash"></i> ÊâπÈáèÂà†Èô§
                        </button>
                        <button class="btn btn-sm btn-info customer-batch-btn" onclick="exportSelectedCustomers()" id="exportCustomersBtn" disabled>
                            <i class="fas fa-download"></i> ÂØºÂá∫ÈÄâ‰∏≠
                        </button>
                        <button class="btn btn-sm btn-warning" onclick="importCustomerData()">
                            <i class="fas fa-upload"></i> ÂØºÂÖ•Êï∞ÊçÆ
                        </button>
                        <button
                            class="btn btn-accent btn-large"
                            onclick="openCustomerModal()"
                        >
                            <i class="fas fa-plus"></i> Êñ∞Â¢ûÂÆ¢Êà∑ </button>
                    </div>
                </div>
                <!-- ÂÆ¢Êà∑ÂàóË°®‰∏ª‰Ωì -->
                <div class="customer-management-container">
                    <!-- ÊêúÁ¥¢ÂíåÁ≠õÈÄâÂ∑•ÂÖ∑Ê†è -->
                    <div class="toolbar-section">
                        <div class="search-section">
                            <div class="search-input-group">
                                <i class="fas fa-search search-icon"></i>
                                <input
                                    type="text"
                                    id="customerSearch"
                                    placeholder="ÊêúÁ¥¢ÂÆ¢Êà∑ÂêçÁß∞„ÄÅËÅîÁ≥ª‰∫∫ÊàñÁîµËØù..."
                                    class="search-input"
                                >
                                <button
                                    class="search-clear-btn"
                                    onclick="clearCustomerSearch()"
                                    style="display: none;"
                                >
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                        </div>

                    </div>
                    <!-- Ë°®Ê†ºËßÜÂõæ -->
                    <div
                        id="customerTableView"
                        class="table-view-container"
                    >
                        <div class="enhanced-table-container">
                            <table class="enhanced-customer-table">
                                <thead>
                                    <tr>
                                        <th width="40px">
                                            <input type="checkbox" id="customerSelectAll" onchange="toggleCustomerSelectAll()">
                                        </th>
                                        <th>ÂêçÁß∞</th>
                                        <th>ËÅîÁ≥ª‰∫∫</th>
                                        <th>ËÅîÁ≥ªÁîµËØù</th>
                                        <th>Âú∞ÂùÄ</th>
                                        <th class="actions-column">Êìç‰Ωú</th>
                                    </tr>
                                </thead>
                                <tbody id="customerTableBody">
                                    <!-- ÂÆ¢Êà∑Êï∞ÊçÆÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÂä†ËΩΩ -->
                                </tbody>
                            </table>
                        </div>
                    </div>


                    <!-- ÂàÜÈ°µÊéßÂà∂ -->
                    <div class="enhanced-pagination-container">
                        <div class="pagination-info-section">
                            <span
                                id="customerPaginationInfo"
                                class="pagination-info"
                            >ÊòæÁ§∫ 1-10 Êù°ÔºåÂÖ± 0 Êù°ËÆ∞ÂΩï</span>
                        </div>
                        <div class="pagination-controls">
                            <button
                                id="customerFirstPage"
                                class="btn btn-outline btn-sm"
                                onclick="goToCustomerPage()"
                                disabled
                            >
                                <i class="fas fa-angle-double-left"></i>
                            </button>
                            <button
                                id="customerPrevPage"
                                class="btn btn-outline btn-sm"
                                onclick="changeCustomerPage()"
                                disabled
                            >
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <div
                                class="page-numbers"
                                id="customerPageNumbers"
                            >
                                <!-- È°µÁ†ÅÊåâÈíÆÂ∞ÜÂä®ÊÄÅÁîüÊàê -->
                            </div>
                            <button
                                id="customerNextPage"
                                class="btn btn-outline btn-sm"
                                onclick="changeCustomerPage()"
                                disabled
                            >
                                <i class="fas fa-chevron-right"></i>
                            </button>
                            <button
                                id="customerLastPage"
                                class="btn btn-outline btn-sm"
                                onclick="goToCustomerLastPage()"
                                disabled
                            >
                                <i class="fas fa-angle-double-right"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ÂÆ¢Êà∑ËØ¶ÊÉÖÊ®°ÊÄÅÊ°Ü -->
            <div
                id="customerDetailsModal"
                class="modal"
            >
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>ÂÆ¢Êà∑ËØ¶ÊÉÖ</h3>
                        <span
                            class="close"
                            onclick="closeCustomerDetails()"
                        >&times;</span>
                    </div>
                    <div class="modal-body">
                        <div class="customer-details">
                            <div class="detail-row">
                                <label>ÂêçÁß∞Ôºö</label>
                                <span id="detailCustomerName"></span>
                            </div>
                            <div class="detail-row">
                                <label>Âú∞ÂùÄÔºö</label>
                                <span id="detailCustomerAddress"></span>
                            </div>
                            <div class="detail-row">
                                <label>ËÅîÁ≥ª‰∫∫Ôºö</label>
                                <span id="detailCustomerContact"></span>
                            </div>
                            <div class="detail-row">
                                <label>ËÅîÁ≥ªÁîµËØùÔºö</label>
                                <span id="detailCustomerPhone"></span>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-primary"
                            onclick="editCustomer()"
                        >ÁºñËæë</button>
                        <button
                            type="button"
                            class="btn btn-secondary"
                            onclick="closeCustomerDetails()"
                        >ÂÖ≥Èó≠</button>
                    </div>
                </div>
            </div>

            <!-- ÂØºÂÖ•È¢ÑËßàÊ®°ÊÄÅÊ°Ü -->
            <div id="importPreviewModal" class="modal import-preview-modal">
                <div class="modal-content import-preview-content">
                    <div class="modal-header">
                        <h3>üìä ÂØºÂÖ•Êï∞ÊçÆÈ¢ÑËßà</h3>
                        <span class="close" onclick="closeImportPreview()">&times;</span>
                    </div>
                    <div class="import-preview-container">
                        <div class="import-summary">
                            <div class="summary-item success">
                                <span>‚úÖ</span>
                                <div>
                                    <div>ÊúâÊïàÊï∞ÊçÆ</div>
                                    <div id="validCount">0</div>
                                </div>
                            </div>
                            <div class="summary-item error">
                                <span>‚ùå</span>
                                <div>
                                    <div>Êó†ÊïàÊï∞ÊçÆ</div>
                                    <div id="invalidCount">0</div>
                                </div>
                            </div>
                        </div>

                        <div id="validDataSection" class="preview-section">
                            <h4>‚úÖ ÊúâÊïàÊï∞ÊçÆ (Â∞ÜË¢´ÂØºÂÖ•)</h4>
                            <div class="preview-table-container">
                                <table class="preview-table">
                                    <thead>
                                        <tr>
                                            <th>ÂÆ¢Êà∑ÂêçÁß∞</th>
                                            <th>ËÅîÁ≥ª‰∫∫</th>
                                            <th>ÁîµËØù</th>
                                            <th>Âú∞ÂùÄ</th>
                                            <th>Â§áÊ≥®</th>
                                        </tr>
                                    </thead>
                                    <tbody id="validDataBody">
                                        <!-- ÊúâÊïàÊï∞ÊçÆÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <div id="invalidDataSection" class="preview-section error-section" style="display: none;">
                            <h4>‚ùå Êó†ÊïàÊï∞ÊçÆ (Â∞ÜË¢´Ë∑≥Ëøá)</h4>
                            <div class="error-list" id="invalidDataList">
                                <!-- Êó†ÊïàÊï∞ÊçÆÂ∞ÜÂú®ËøôÈáåÊòæÁ§∫ -->
                            </div>
                        </div>

                        <div class="import-actions">
                            <button type="button" class="btn btn-secondary" onclick="closeImportPreview()">ÂèñÊ∂à</button>
                            <button type="button" class="btn btn-primary" onclick="confirmImport()" id="confirmImportBtn">Á°ÆËÆ§ÂØºÂÖ•</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Êñ∞Â¢ûÂÆ¢Êà∑Ê®°ÊÄÅÊ°Ü -->
            <div
                id="customerModal"
                class="modal"
            >
                <div class="modal-content">
                    <div class="modal-header">
                        <h2>Êñ∞Â¢ûÂÆ¢Êà∑</h2>
                        <button
                            class="close-btn"
                            onclick="closeCustomerModal()"
                        >&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="customerName">ÂêçÁß∞</label>
                            <input
                                type="text"
                                id="customerName"
                                class="form-control"
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="customerAddress">Âú∞ÂùÄ</label>
                            <input
                                type="text"
                                id="customerAddress"
                                class="form-control"
                            >
                        </div>
                        <div class="form-group">
                            <label for="contactName">ËÅîÁ≥ª‰∫∫</label>
                            <input
                                type="text"
                                id="contactName"
                                class="form-control"
                                required
                            >
                        </div>
                        <div class="form-group">
                            <label for="contactPhone">ËÅîÁ≥ªÁîµËØù</label>
                            <input
                                type="tel"
                                id="contactPhone"
                                class="form-control"
                                required
                            >
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button
                            class="btn btn-accent"
                            onclick="saveCustomer()"
                        >‰øùÂ≠ò</button>
                        <button
                            class="btn btn-outline"
                            onclick="closeCustomerModal()"
                        >ÂèñÊ∂à</button>
                    </div>
                </div>
            </div>


        </div>
        <!-- Êñ∞Â¢ûËΩ¶ÈòüÊ®°ÊÄÅÊ°Ü -->
        <div
            id="transportTeamModal"
            class="modal"
        >
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Êñ∞Â¢ûËΩ¶Èòü</h2>
                    <button
                        class="close-btn"
                        onclick="closeTransportTeamModal()"
                    >&times;</button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="teamName">ËΩ¶ÈòüÂêçÁß∞</label>
                        <input
                            type="text"
                            id="teamName"
                            class="form-control"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="teamContact">ËÅîÁ≥ª‰∫∫</label>
                        <input
                            type="text"
                            id="teamContact"
                            class="form-control"
                            required
                        >
                    </div>
                    <div class="form-group">
                        <label for="teamPhone">ËÅîÁ≥ªÁîµËØù</label>
                        <input
                            type="tel"
                            id="teamPhone"
                            class="form-control"
                            required
                        >
                    </div>
                </div>
                <div class="modal-footer">
                    <button
                        class="btn btn-accent"
                        onclick="saveTransportTeam()"
                    >‰øùÂ≠ò</button>
                    <button
                        class="btn btn-outline"
                        onclick="closeTransportTeamModal()"
                    >ÂèñÊ∂à</button>
                </div>
            </div>
        </div>
        <!-- ËΩ¶ÈòüÁÆ°ÁêÜÊ®°ÊÄÅÊ°Ü -->
        <div
            id="teamManageModal"
            class="modal"
        >
            <div class="modal-content">
                <div class="modal-header">
                    <h2>ËΩ¶ÈòüÁÆ°ÁêÜ</h2>
                    <button
                        class="close-btn"
                        onclick="closeTeamManageModal()"
                    >&times;</button>
                </div>
                <div class="modal-body">
                    <table class="team-table">
                        <thead>
                            <tr>
                                <th>ËΩ¶ÈòüÂêçÁß∞</th>
                                <th>ËÅîÁ≥ª‰∫∫</th>
                                <th>ËÅîÁ≥ªÁîµËØù</th>
                                <th>Êìç‰Ωú</th>
                            </tr>
                        </thead>
                        <tbody id="teamTable"></tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button
                        class="btn btn-outline"
                        onclick="closeTeamManageModal()"
                    >ÂÖ≥Èó≠</button>
                </div>
            </div>
        </div>

        <!-- ÂÆ¢Êà∑ÈÄâÊã©Ê®°ÊÄÅÊ°Ü -->
        <div id="customerSelectionModal" class="modal">
            <div class="modal-content customer-selection-modal">
                <div class="modal-header">
                    <h2><i class="fas fa-users"></i> ÈÄâÊã©ÂÆ¢Êà∑</h2>
                    <button class="close-btn" onclick="closeCustomerSelectionModal()">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="customer-search-container">
                        <div class="search-input-group">
                            <i class="fas fa-search search-icon"></i>
                            <input
                                type="text"
                                id="customerSelectionSearch"
                                placeholder="ÊêúÁ¥¢ÂÆ¢Êà∑ÂêçÁß∞„ÄÅËÅîÁ≥ª‰∫∫ÊàñÁîµËØù..."
                                class="search-input"
                                oninput="filterCustomerSelection()"
                            >
                        </div>
                    </div>
                    <div id="customerSelectionList" class="customer-selection-list">
                        <!-- ÂÆ¢Êà∑ÂàóË°®Â∞ÜÂú®ËøôÈáåÂä®ÊÄÅÁîüÊàê -->
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-outline" onclick="closeCustomerSelectionModal()">ÂèñÊ∂à</button>
                </div>
            </div>
        </div>
    </template>

    <div id="app"></div>
    <!-- ‰∏ªË¶ÅËÑöÊú¨ - ‰ºòÂÖàÂä†ËΩΩ -->
    <script src="js/index.js"></script>

    <!-- Âª∂ËøüÂä†ËΩΩÂ§ñÈÉ®ËµÑÊ∫ê -->
    <script>
        // ÂºÇÊ≠•Âä†ËΩΩÂ§ñÈÉ®Â∫ì
        function loadExternalLibraries() {
            const libraries = [
                'https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js',
                'https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js',
                'https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js',
                'https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js'
            ];

            libraries.forEach((src, index) => {
                const script = document.createElement('script');
                script.src = src;
                script.async = true;
                if (index === 1) { // jsPDF
                    script.onload = () => {
                        if (typeof window.jspdf !== 'undefined') {
                            window.jsPDF = window.jspdf.jsPDF;
                        }
                    };
                }
                document.head.appendChild(script);
            });
        }

        // È°µÈù¢Âä†ËΩΩÂÆåÊàêÂêéÂÜçÂä†ËΩΩÂ§ñÈÉ®Â∫ì
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', () => {
                setTimeout(loadExternalLibraries, 100);
            });
        } else {
            setTimeout(loadExternalLibraries, 100);
        }
    </script>

    <!-- ÂèØÈÄâÁöÑÂä®ÊÄÅÁΩëÈ°µÊ†∏ÂøÉÊñá‰ª∂ - ÂºÇÊ≠•Âä†ËΩΩ -->
    <script>
        // ÂºÇÊ≠•Âä†ËΩΩÂèØÈÄâÊ®°Âùó
        function loadOptionalModules() {
            const optionalModules = [
                // 'js/modules/firebase.js',
                // 'js/modules/api.js'
            ];

            optionalModules.forEach(src => {
                const script = document.createElement('script');
                script.src = src;
                script.async = true;
                script.onerror = () => console.log(`ÂèØÈÄâÊ®°Âùó ${src} Âä†ËΩΩÂ§±Ë¥•ÔºåÁªßÁª≠‰ΩøÁî®Êú¨Âú∞ÂäüËÉΩ`);
                document.head.appendChild(script);
            });
        }

        // Âª∂ËøüÂä†ËΩΩÂèØÈÄâÊ®°Âùó
        setTimeout(loadOptionalModules, 200);
    </script>

    <script>
        // ÂàùÂßãÂåñÂä®ÊÄÅÁΩëÈ°µÂäüËÉΩ
        document.addEventListener('DOMContentLoaded', function() {
            // Ê£ÄÊü•ÁΩëÁªúËøûÊé•Áä∂ÊÄÅ
            function updateConnectionStatus() {
                const isOnline = navigator.onLine;
                console.log('ÁΩëÁªúÁä∂ÊÄÅ:', isOnline ? 'Âú®Á∫ø' : 'Á¶ªÁ∫ø');

                // Âú®È°µÈù¢È°∂ÈÉ®ÊòæÁ§∫ËøûÊé•Áä∂ÊÄÅ
                let statusElement = document.getElementById('connection-status');
                if (!statusElement) {
                    statusElement = document.createElement('div');
                    statusElement.id = 'connection-status';
                    statusElement.style.cssText = `
                        position: fixed;
                        top: 0;
                        right: 20px;
                        z-index: 10000;
                        padding: 5px 10px;
                        border-radius: 0 0 5px 5px;
                        font-size: 12px;
                        font-weight: bold;
                    `;
                    document.body.appendChild(statusElement);
                }

                statusElement.textContent = isOnline ? 'Âú®Á∫øÊ®°Âºè' : 'Á¶ªÁ∫øÊ®°Âºè';
                statusElement.style.backgroundColor = isOnline ? '#4CAF50' : '#f44336';
                statusElement.style.color = 'white';
            }

            // ÁõëÂê¨ÁΩëÁªúÁä∂ÊÄÅÂèòÂåñ
            window.addEventListener('online', updateConnectionStatus);
            window.addEventListener('offline', updateConnectionStatus);

            // ÂàùÂßãÂåñËøûÊé•Áä∂ÊÄÅ
            updateConnectionStatus();

            // ÂàùÂßãÂåñAPIÊúçÂä°
            if (window.API) {
                window.API.init().then(() => {
                    console.log('Âä®ÊÄÅÁΩëÈ°µÂäüËÉΩÂ∑≤ÂêØÁî®');
                    updateConnectionStatus();
                }).catch(error => {
                    console.warn('Âä®ÊÄÅÂäüËÉΩÂàùÂßãÂåñÂ§±Ë¥•Ôºå‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®Ê®°Âºè:', error);
                    updateConnectionStatus();
                });
            }
        });
    </script>
</body>

</html>